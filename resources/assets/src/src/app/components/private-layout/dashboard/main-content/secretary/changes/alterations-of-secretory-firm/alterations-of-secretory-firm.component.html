<div class="clearfix">
</div>
<section class="top-margin">
  <div class="container" style="padding-bottom: 50px;">
    <div class="row">


      <!--end left col-->


      <div class="col-md-11 nopadding">


        <div class="f1">
          <h3 style="text-align: center"> SECRETARY PARTICULAR CHANGES PROCESS (FIRM)</h3>
          <p style="text-align: center">Fill in all steps for completing the process.</p>
          <div class="f1-steps">
            <div class="f1-progress">
              <div class="f1-progress-line" data-now-value="7.14" data-number-of-steps="6" [ngStyle]="{'width': progress.progressPercentage}"></div>
            </div>



            <div *ngFor="let item of progress['stepArr']; let i = index" class="f1-step {{item.status}} status-{{i}}">
              <div class="f1-step-icon">
                <i class="{{item.icon}}"></i>
              </div>
              <p>{{item.label}}</p>
            </div>

          </div>

          <fieldset [hidden]="stepOn != 0">

              <div class="comapny_global_resumit_message_wrapper alert alert-danger" *ngIf="externalGlobComment">

                  <p style="text-align:center">{{externalGlobComment}}</p>
                </div>


            <div class="form-group row">
              <label class="col-sm-3 col-form-label col-form-label-sm">Secretary Type</label>
              <div class="col-sm-9">Firm
              </div>

            </div>
            <div class="form-group row">
              <label class="col-sm-3 col-form-label col-form-label-sm">Name</label>
              <div class="col-sm-9">{{secRecord.old_name}}
              </div>
            </div>
            <div class="form-group row">
              <label class="col-sm-3 col-form-label col-form-label-sm">Name(Sinhala)</label>
              <div class="col-sm-9">{{secRecord.old_name_si}}
              </div>
            </div>
            <div class="form-group row">
              <label class="col-sm-3 col-form-label col-form-label-sm">Name(Tamil)</label>
              <div class="col-sm-9">{{secRecord.old_name_ta}}
              </div>
            </div>
            <div class="form-group row">
              <label class="col-sm-3 col-form-label col-form-label-sm">Certificate Number</label>
              <div class="col-sm-9">{{secRecord.certificate_no}}
              </div>
            </div>
            <hr/>
            <br/>

            
            <div style="position:relative" >
                <div *ngIf="annualReturnStatus == 'SECRETARY_CHANGE_RESUBMIT'" style="position: absolute;
                width: 100%;
                height: 100%;
                left: 0;
                top: 0;
                z-index: 999;
                cursor: no-drop;
              padding:30px"></div>

                <h3 style="font-size:14px" for="staticCapital" class="col-sm-12">Please select alteration type(s)<span  class="req">*</span></h3>
                <div class="sec_type_item form-group col-md-12" *ngFor="let opt of alterOptions"  >
      
                    <input (change)="setAlterType(opt.key)"  [(ngModel)]="opt.isSelected" type="checkbox" id="alter-{{opt.key }}" class="custom-control-input" name="alter_{{opt.key }}" value="{{opt.key }}">
                    <label style="font-size:14px;" class="custom-control-label radio-lbl" for="alter-{{opt.key }}">&nbsp;&nbsp;&nbsp;&nbsp;{{opt.value }}</label>
          
                </div>

            </div>
              

            <div class="f1-buttons">
              <button [disabled]="!alterType.length" type="button" class="btn btn-next" id="btn1-next" (click)="updateAlterType()">Next
                <i class="fas fa-forward"></i></button>
            </div>
          </fieldset>
        

          <fieldset [hidden]="stepOn != 1">

              <div class="comapny_global_resumit_message_wrapper alert alert-danger" *ngIf="externalGlobComment">

                  <p style="text-align:center">{{externalGlobComment}}</p>
                </div>

                <div class="form-row">
                  <div class="col-sm-6">

                      <div class="form-group row">
                          <div class="col-sm-12">
                              <h4>Current Name</h4>
                          </div>                    
                      </div>

                      <div class="form-group row">
                 
                          <div class="form-group col-md-12">
                              <label class="col-form-label col-form-label-sm">Name</label>
                            <span class="old-values">{{secRecord.old_name}}</span>
                           
                          </div>
                        </div>
                      <div class="form-group row">
                          <div class="form-group col-md-12"><label class="col-form-label col-form-label-sm">Full Name in Sinhala
                            </label>
                            <span class="old-values">{{secRecord.old_name_si}}</span>
                            
                          </div>
                          <div class="form-group col-md-12"><label class="col-form-label col-form-label-sm">Full Name in Tamil
                            </label>
                            <span class="old-values">{{secRecord.old_name_ta}}</span>
                          </div>
                      </div>

                  </div>

                  <div class="col-sm-6" style="position:relative">

                      <div *ngIf="alterType.indexOf('SECRETARY_CHANGE_NAME') == -1" style="position: absolute;
                      width: 100%;
                      height: 100%;
                      left: 0;
                      top: 0;
                      z-index: 999;
                      cursor: no-drop;
                      background: rgb(255,255,255, 0.7);text-align: center;padding:30px">
                     
                     <p style="margin-top: 140px;
                     font-size: 18px;
                     color: darkorange;
                     font-weight: bold;"> Please select "Change Name" option to update this section
                     </p>
                    
                    </div> 

                      <div class="form-group row">
                          <div class="col-sm-12">
                              <h4>New Name</h4>
                          </div>                    
                      </div>

                      <div class="form-group row">
                 
                          <div class="form-group col-md-12"><label class="col-form-label col-form-label-sm">Name
                              </label>
                            <input (input)="validateNamePart()"  pattern="[a-zA-Z ]*" class="form-control form-control-sm"
                              name="first_name" maxlength="100" [(ngModel)]="secRecord.new_name" placeholder="Firm Name">
                            <span class="req-message">Valid name required</span>
                          </div>
                        </div>
                      <div class="form-group row">
                          <div class="form-group col-md-12"><label class="col-form-label col-form-label-sm">Full Name in Sinhala
                            </label>
                            <input (input)="validateNamePart()" class="form-control form-control-sm sinhalaname" id="sinhalaname" maxlength="190"
                              [(ngModel)]="secRecord.new_name_si" [ngModelOptions]="{standalone: true}" (keyup)='this.loadsinhala()'>
                            <small class="text text-danger float-right">Press the space bar after each word</small>
                          </div>
                          <div class="form-group col-md-12"><label class="col-form-label col-form-label-sm">Full Name in Tamil
                            </label>
                            <input (input)="validateNamePart()" class="form-control form-control-sm tamilname" id="tamilname" maxlength="190"
                              [(ngModel)]="secRecord.new_name_ta" [ngModelOptions]="{standalone: true}" (keyup)='this.loadTamil()'>
                            <small class="text text-danger float-right">Press the space bar after each word</small>
                          </div>
                      </div>
                  
                  </div>
                </div>


                

          
            <div class="f1-buttons">
                <button (click)="changeProgressStatuses(0)" type="button" class="btn btn-previous"><i class="fas fa-backward"></i>
                  Previous</button>

              <button *ngIf="alterType.indexOf('SECRETARY_CHANGE_NAME') >= 0" [disabled]="!validateNamePartFlag"  type="button" class="btn btn-next" id="btn1-next" (click)="updateName()">Next
                <i class="fas fa-forward"></i></button>

                <button *ngIf="alterType.indexOf('SECRETARY_CHANGE_NAME') == -1 "   type="button" class="btn btn-next" id="btn1-next" (click)="changeProgressStatuses(2)">Next
                    <i class="fas fa-forward"></i></button>
            </div>
          </fieldset>

        <fieldset [hidden]="stepOn != 2">
            <div class="comapny_global_resumit_message_wrapper alert alert-danger" *ngIf="externalGlobComment">

                <p style="text-align:center">{{externalGlobComment}}</p>
            </div>


            <div class="foreign_address_block">

                <div class="form-row">
                   <div class="col-sm-6">
  
                      <div class="form-group row">
                          <div class="col-sm-12">
                              <h4>Current Address</h4>
                          </div>                    
                      </div>
  
                      <div class="form-group row">
                          <label class="col-sm-12 col-form-label col-form-label-sm"> Address Line 1:</label>
                          <div class="col-sm-12">
  
                            <span>{{secRecord.old_address_address1}}</span>
                          </div>
                        </div>
        
                        <div class="form-group row">
                          <label class="col-sm-12 col-form-label col-form-label-sm"> Address Line 2:</label>
                          <div class="col-sm-12">
                            <span>{{secRecord.old_address_address2}}</span>
        
                          </div>
                        </div>
        
                        <div class="form-group row">
                          <label class="col-sm-3 col-form-label col-form-label-sm"> Province:</label>
                          <div class="col-sm-9">
                            <span>{{secRecord.old_address_province}}</span>
                          </div>
                        </div>
        
                        <div class="form-group row">
                          <label class="col-sm-3 col-form-label col-form-label-sm"> District:</label>
                          <div class="col-sm-9">
                              <span>{{secRecord.old_address_district}}</span>
                          </div>
                        </div>
        
                        <div class="form-group row">
                          <label class="col-sm-3 col-form-label col-form-label-sm"> City:</label>
                          <div class="col-sm-9">
                              <span>{{secRecord.old_address_city}}</span>
                          </div>
                        </div>
                        
                        <div class="form-group row">
                            <label class="col-sm-3 col-form-label col-form-label-sm"> Postal Code:</label>
                            <div class="col-sm-9">
                                <span>{{secRecord.old_address_postcode}}</span>
        
                            </div>
                        </div>
  
                   </div>
                   
                   <div class="col-sm-6" style="position:relative" >
  
                      <div *ngIf="alterType.indexOf('SECRETARY_CHANGE_ADDRESS') == -1" style="position: absolute;
                      width: 100%;
                      height: 100%;
                      left: 0;
                      top: 0;
                      z-index: 999;
                      cursor: no-drop;
                      background: rgb(255,255,255, 0.7);text-align: center;padding:30px">
                     
                     <p style="margin-top: 140px;
                     font-size: 18px;
                     color: darkorange;
                     font-weight: bold;"> Please select "Change address" option to update this section
                     </p>
                    
                    </div> 
  
                      <div class="form-group row">
                          <div class="col-sm-12">
                              <h4>New Address</h4>
                          </div>                    
                      </div>
  
                      <div class="form-group row">
                          <label class="col-sm-12 col-form-label col-form-label-sm"> Address Line 1:
                            <span  class="req">*</span>
                          </label>
                          <div class="col-sm-12">
                            <input  (input)="validateAddressPart()" class="form-control form-control-sm" [(ngModel)]="secRecord.new_address_address1"
                            name="requestAddress_address1" placeholder="Please enter address line 1">
                          
      
        
                          </div>
                        </div>
        
                        <div class="form-group row">
                          <label class="col-sm-12 col-form-label col-form-label-sm"> Address Line 2:
                            <span class="noreq">*</span>
                          </label>
                          <div class="col-sm-12">
                            <input class="form-control form-control-sm" [(ngModel)]="secRecord.new_address_address2" name="requestAddress_address2"
                            placeholder="Please enter address line 2">
                           
        
        
                          </div>
                        </div>
        
                        <div class="form-group row">
                          <label class="col-sm-4 col-form-label col-form-label-sm"> Province:
                            <span  class="req">*</span>
                          </label>
                          <div class="col-sm-8">
                            <select  (change)="getDistrictsForScreen1(secRecord.new_address_province)" class="form-control form-control-sm" [(ngModel)]="secRecord.new_address_province"
                              name="requestAddress_province">
                              <option value="">Choose...</option>
                              <option *ngFor="let p of screen1Provinces" value="{{p.name}}">{{p.name}}</option>
                            </select>
        
                           
        
        
                          </div>
                        </div>
        
                        <div class="form-group row">
                          <label class="col-sm-4 col-form-label col-form-label-sm"> District:
                            <span  class="req">*</span>
                          </label>
                          <div class="col-sm-8">
                            <select  (change)="getCitiesForScreen1(secRecord.new_address_district)" class="form-control form-control-sm" [(ngModel)]="secRecord.new_address_district"
                              name="requestAddress_district">
                              <option value="">Choose...</option>
                              <option *ngFor="let d of screen1Districts" value="{{d.name}}">{{d.name}}</option>
                            </select>
                           
        
                          </div>
                        </div>
        
                        <div class="form-group row">
                          <label class="col-sm-4 col-form-label col-form-label-sm"> City:
                            <span  class="req">*</span>
                          </label>
                          <div class="col-sm-8">
                            <select  (input)="validateAddressPart()" class="form-control form-control-sm" [(ngModel)]="secRecord.new_address_city"
                              name="requestAddress_city">
                              <option value="">Choose...</option>
                              <option *ngFor="let c of screen1Cities" value="{{c.name}}">{{c.name}}</option>
                            </select>
  
        
                          </div>
                        </div>
                       <!-- <div class="form-group row">
                          <label class="col-sm-4 col-form-label col-form-label-sm"> GN Division:
                            <span  class="req">*</span>
                          </label>
                          <div class="col-sm-8">
                            <select  (change)="step1Validation()" class="form-control form-control-sm" [(ngModel)]="requestAddress.gn_division"
                              name="requestAddress_gn">
                              <option value="">Choose...</option>
                              <option *ngFor="let gn of screen1Gns" value="{{gn.name}}">{{gn.name}}</option>
                            </select>
        
                          </div>
                        </div> -->
                        <div class="form-group row">
                            <label class="col-sm-4 col-form-label col-form-label-sm"> Postal Code:
                              <span class="req">*</span>
                            </label>
                            <div class="col-sm-8">
                                <input (input)="validateAddressPart()" class="form-control form-control-sm" [(ngModel)]="secRecord.new_address_postcode"
                                name="requestAddress_postcode" placeholder="" maxlength="10">
                               
        
                            </div>
                        </div>
  
                        
  
                   </div>
  
                  
  
                </div>
                
            </div>


           
          <div class="f1-buttons">
            <button (click)="changeProgressStatuses(1)" type="button" class="btn btn-previous"><i class="fas fa-backward"></i>
              Previous</button>
              <button *ngIf="alterType.indexOf('SECRETARY_CHANGE_ADDRESS') >= 0" [disabled]="!validateAddressPartFlag"  type="button" class="btn btn-next" id="btn1-next" (click)="updateAddress()">Next
                <i class="fas fa-forward"></i></button>
              <button *ngIf="alterType.indexOf('SECRETARY_CHANGE_ADDRESS') == -1"   type="button" class="btn btn-next" id="btn1-next" (click)="changeProgressStatuses(3)">Next
                    <i class="fas fa-forward"></i></button>
          </div>

        </fieldset>
      

        <fieldset [hidden]="stepOn != 3">
            <div class="comapny_global_resumit_message_wrapper alert alert-danger" *ngIf="externalGlobComment">

                <p style="text-align:center">{{externalGlobComment}}</p>
            </div>


            <div class="form-row" style="margin:30px 0  70px">
                <div class="col-sm-6">

                    <div class="form-group row">
                        <div class="col-sm-12">
                            <h4>Current Email</h4>
                        </div>                    
                    </div>

                    <div class="form-group row">
               
                        <div class="form-group col-md-12">
                          <span class="old-values">{{secRecord.old_email_address}}</span>
                        </div>
                       
                    </div>
                  
                </div>

                <div class="col-sm-6" style="position:relative">

                    <div *ngIf="alterType.indexOf('SECRETARY_CHANGE_EMAIL') == -1" style="position: absolute;
                    width: 100%;
                    height: 100%;
                    left: 0;
                    top: 0;
                    z-index: 999;
                    cursor: no-drop;
                    background: rgb(255,255,255, 0.7);text-align: center;padding:30px">
                   
                   <p style="margin-top: -10px;
                   font-size: 18px;
                   color: darkorange;
                   font-weight: bold;"> Please select "Change Email" option to update this section
                   </p>
                  
                  </div> 

                    <div class="form-group row">
                        <div class="col-sm-12">
                            <h4>New Email</h4>
                        </div>                    
                    </div>

                    <div class="form-group row">
               
                        <div class="form-group col-md-12">
                            <input  pattern="[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,4}" (input)="validateEmailPart()"
                            [(ngModel)]="secRecord.new_email_address" [ngModelOptions]="{standalone: true}" class="form-control form-control-sm"
                            placeholder="">
                          <span class="req-message">Valid email address required</span>
                        </div>
                        
                      </div>
 
                </div>
              </div>


              <!-- add secretory block-->
           
          <div class="f1-buttons">
            <button (click)="changeProgressStatuses(2)" type="button" class="btn btn-previous"><i class="fas fa-backward"></i>
              Previous</button>
              <button *ngIf="alterType.indexOf('SECRETARY_CHANGE_EMAIL') >= 0" [disabled]="!validateEmailPartFlag"  type="button" class="btn btn-next" id="btn1-next" (click)="updateEmail()">Next
                  <i class="fas fa-forward"></i></button>
  
              <button *ngIf="alterType.indexOf('SECRETARY_CHANGE_EMAIL') == -1 "   type="button" class="btn btn-next" id="btn1-next" (click)="changeProgressStatuses(4)">Next
                      <i class="fas fa-forward"></i></button>
           
          </div>

        </fieldset>
       

        <fieldset [hidden]="stepOn != 4">
            <div class="comapny_global_resumit_message_wrapper alert alert-danger" *ngIf="externalGlobComment">

                <p style="text-align:center">{{externalGlobComment}}</p>
            </div>

            
            <div class="form-row">
                <div class="col-sm-6">

                    <div class="form-group row">
                        <div class="col-sm-12">
                            <h4>Current Contacts</h4>
                        </div>                    
                    </div>

                    <div class="form-group row">
               
                        <div class="form-group col-md-12">
                            <label class="col-form-label col-form-label-sm">Mobile Number</label>
                          <span class="old-values">{{secRecord.old_mobile_no}}</span>
                         
                        </div>
                        <div class="form-group col-md-12">
                          <label class="col-form-label col-form-label-sm">Telephone</label>
                          <span class="old-values">{{secRecord.old_tel_no}}</span>
                        </div>
                      </div>

                </div>

                <div class="col-sm-6" style="position:relative">

                    <div *ngIf="alterType.indexOf('SECRETARY_CHANGE_TELEPHONE') == -1" style="position: absolute;
                    width: 100%;
                    height: 100%;
                    left: 0;
                    top: 0;
                    z-index: 999;
                    cursor: no-drop;
                    background: rgb(255,255,255, 0.7);text-align: center;padding:30px">
                   
                   <p style="margin-top: 0;
                   font-size: 18px;
                   color: darkorange;
                   font-weight: bold;"> Please select "Change contact" option to update this section
                   </p>
                  
                  </div> 

                    <div class="form-group row">
                        <div class="col-sm-12">
                            <h4>New Contacts</h4>
                        </div>                    
                    </div>

                    <div class="form-group row">
               
                        <div class="form-group col-md-12"><label class="col-form-label col-form-label-sm">Mobile Number
                            </label>
                            <input  maxlength="10" pattern="\d{10}" type="tel" [(ngModel)]="secRecord.new_mobile_no"
                            class="form-control form-control-sm modal-input-sec-mobile" placeholder=""
                            [ngModelOptions]="{standalone: true}" (input)="validateContactPart()">
                          <span class="req-message">10 Digits mobile number requried</span>
                        </div>
                        <div class="form-group col-md-12"><label class="col-form-label col-form-label-sm">Telephone Number
                            </label>
                            <input  maxlength="10" type="tel" pattern="\d{10}" [(ngModel)]="secRecord.new_tel_no"
                            class="form-control form-control-sm modal-input-sec-phone" placeholder=""
                            [ngModelOptions]="{standalone: true}" (input)="validateContactPart()">
                          <span class="req-message">10 Digits phone number requried</span>
                        </div>
                      </div>
              
                </div>
              </div>
              

        <div class="f1-buttons">
          <button (click)="changeProgressStatuses(3)" type="button" class="btn btn-previous"><i class="fas fa-backward"></i>
            Previous</button>
            <button *ngIf="alterType.indexOf('SECRETARY_CHANGE_TELEPHONE') >= 0" [disabled]="!validateContactPartFlag"  type="button" class="btn btn-next" id="btn1-next" (click)="updateContact()">Next
                <i class="fas fa-forward"></i></button>

                <button *ngIf="alterType.indexOf('SECRETARY_CHANGE_TELEPHONE') == -1 "   type="button" class="btn btn-next" id="btn1-next" (click)="changeProgressStatuses(5)">Next
                    <i class="fas fa-forward"></i></button>
        </div>

      </fieldset>
 
      <fieldset [hidden]="stepOn != 5">
        <div class="comapny_global_resumit_message_wrapper alert alert-danger" *ngIf="externalGlobComment">

            <p style="text-align:center">{{externalGlobComment}}</p>
        </div>

        <div *ngIf="alterType.indexOf('SECRETARY_CHANGE_PARTNERS') == -1">
       
       <p style="margin-top: 0;
       font-size: 18px;
       color: darkorange;
       font-weight: bold;
       text-align: center;
       margin: 30px 0;
       padding: 30px 5px;
       background: #eee;
       border-radius: 10px;"> Please select "Change Partners" option to update this section
       </p>
      
      </div> 

      <div class="director-secton stakeholder-section">

        <div class="add-new-wrapper director-add-new-wrapper" *ngIf="alterType.indexOf('SECRETARY_CHANGE_PARTNERS') >= 0">

          <h2>
            <span class="add-new-wrapper-label">Partners</span>
            <div class="line"></div>

           <span (click)="changeDefaultStatus()"> 
             <button  data-backdrop="static" data-keyboard="false"
                        type="button" mdbBtn class="relative waves-light add-new-stakholder"
              (click)="partnerModel.show()" mdbWavesEffect>
              <i class="fa fa-plus"></i> Add New</button>
            </span>

          </h2>

        </div>

        
          <div *ngFor="let partner of partnerList.partner; let i = index" class="director-record stakeholder-record"
          style=" margin: 30px 0;border-radius: 20px;background: #fff;border: 1px solid rgb(243, 91, 63);">

          <div (click)="showToggleForChangedPartners( partner.id)"  class="stakeholder-record-summeru" style="background-color: #f35b3f;
              color: #fff;
              padding: 5px 10px;
              font-weight: lighter;
              font-size: 14px;
              border-top-left-radius: 18px;
              box-shadow: 1px 1px 2px #b3aea9;
              border-top-right-radius: 18px;
              cursor: pointer;
              width: 100%;
              border-radius: 20px;">

            {{partner.name}}  {{partner.existing_patner ? '(Existing)' : '' }}

            <span  (click)="removePartner(i)"
              title="remove record" style="float:right;" class="record-handler record-handler-remove">
              <i class="fa fa-trash"></i>
            </span>
            <span title="show details" style="float:right; margin:0 15px" class="record-handler">
                <i class="fa fa-pencil-alt"></i>
              </span>
          
          </div>

          <div [hidden]="partner.showEditPaneForPartner != partner.id" [class]="'stakeholder-record-inner'"
            class="stakeholder-record-inner" style="padding: 25px 10px 10px;">


            <div class="form-group row">
              <label f class="col col-form-label col-form-label-sm">Full name of partner
                <span class="req">*</span></label>
              <div class="col-sm-12">
                <input (input)="validateSecPartnerEdit(i)" pattern="[a-zA-Z ]*"
                  class="form-control form-control-sm" name="full_name" maxlength="100"
                  [(ngModel)]="partner.name" placeholder="Full Name" readonly>
                <span class="req-message">Valid name required</span>
              </div>
            </div>
            <div class="form-group row">
              <label  class="col-sm-12 col-form-label col-form-label-sm">Residential Address
                <span class="req">*</span></label>
              <div class="col-sm-12">
                <input (input)="validateSecPartnerEdit(i)" class="form-control form-control-sm" name="address"
                  maxlength="190" [(ngModel)]="partner.address"
                  placeholder="Residential Address" readonly>
                <span class="req-message">Valid address required</span>
              </div>
            </div>
            <div class="form-group row">
              <div class="form-group col-md-12"><label class="col-form-label col-form-label-sm">Citizenship
                  <span class="req">*</span></label>
                <input (input)="validateSecPartnerEdit(i)" pattern="[a-zA-Z ]*"
                  class="form-control form-control-sm" name="citizenship" maxlength="50"
                  [(ngModel)]="partner.citizenship" placeholder="Citizenship" readonly>
                <span class="req-message">Valid input required</span>
              </div>
            </div>
            <div class="form-group row">
              <label f class="col-sm-12 col-form-label col-form-label-sm">Professional Qualifications
                <span class="req">*</span>
              </label>
              <div class="col-sm-12">
                <input (input)="validateSecPartnerEdit(i)" class="form-control form-control-sm"
                  name="professional_qualifications" maxlength="100" [(ngModel)]="partner.professional_qualifications"
                  placeholder="" readonly>
              </div>
            </div>
            <div class="form-group row">
              <label f class="col-sm-12 col-form-label col-form-label-sm">Sub-clause of regulation 2(1)(b) under
                which
                applicant is qualified?
                <span class="req">*</span></label>
              <div class="col-sm-12">
                <input (input)="validateSecPartnerEdit(i)" class="form-control form-control-sm" name="qualified"
                  maxlength="100" [(ngModel)]="partner.which_qualified">
                <span class="req-message">Valid reason required</span>
              </div>
            </div>

  

            <button *ngIf="partner.existing_patner"  style="float: right" (click)="editPartner(i, 'change')" [disabled]="!partner.which_qualified"
              type="button" class="btn btn-next">
              <i class="fa fa-edit"></i>
              Save Changes</button>
            <button *ngIf="!partner.existing_patner"  style="float: right" (click)="editPartner(i, 'add')" [disabled]="!partner.which_qualified"
              type="button" class="btn btn-next">
              <i class="fa fa-edit"></i>
              Save Changes</button>
            
            <div style="clear:both"></div>

          </div>
          <!-- end rerord inner -->

        </div>


      </div>


        <div class="f1-buttons">
          <button (click)="changeProgressStatuses(4)" type="button" class="btn btn-previous"><i class="fas fa-backward"></i>
            Previous</button>
          <button   (click)="changeProgressStatuses(6)" type="button" class="btn btn-next">Next <i class="fas fa-forward"></i></button>
        </div>

     </fieldset>

        <fieldset [hidden]="stepOn != 6">
            <div class="comapny_global_resumit_message_wrapper alert alert-danger" *ngIf="externalGlobComment">

                <p style="text-align:center">{{externalGlobComment}}</p>
            </div>

            <div style="margin-bottom:6px" class="container uploaded-container">

                <div class="row uploaded-row">
  
                  <div class="col-4 doc">
                    <h3>Other Documents
                      <p style="font-size: 12px;color: darkorange;text-transform: none;" class="other_doc_des">You can upload any number of documents here</p>
                    </h3>
                  </div>
                  <div class="col-5">
                    <span style="float: left;width: 100%;margin-top: 2px">
                          <input style="width: 96%;padding:5px;padding: 0 5px;text-align: center;font-size: 14px;" [(ngModel)]="other_doc_name" name="other_doc_name" placeholder="Enter document name here" />
                          <span style="display: block;width: 4%; float: right;color: red;font-size: 24px;margin-top: -10px;">*</span>
                    </span>
                  </div>

                  <div class="col-3 no-padding">


                    <label style="float:right" for="other-docs" class="upload-wrapper btn btn-primary btn-sm download {{!other_doc_name ? 'disable' : '' }}">
                      <i class="fas fa-cloud-upload-alt"></i> Upload
                    </label>

                    
                    <input [disabled]="!other_doc_name"  style="display:block;position: fixed;top:-100000px" id="other-docs" type="file" (change)="uploadOtherDoc($event,'Other',additionalUploadList['doc_id'])"
                      placeholder="Upload file" accept=".pdf">

                  </div>

                  </div>

                <div  class="form-group" *ngFor="let doc of additionalUploadList['docs']; let j = index">
  
                  <div class=" uploaded-row">
  

                    <div style="font-size:12px;" class="uploaded-doc" *ngIf="doc.file_name">

                        {{doc.file_name}}
                        <span class="approved_doc" *ngIf="doc.doc_status =='DOCUMENT_APPROVED'">Document Approved</span>

                        <button *ngIf="doc.doc_status !='DOCUMENT_APPROVED' && doc.uploaded_token" style="float: right; font-size: 12px;padding: 5px !important;" (click)="removeOtherDoc(doc.uploaded_token )"  class="button red button-sm">
                            <i class="fas fa-trash-alt"></i> Delete
                         </button>
                      
                        <button style="float: right; font-size: 12px;padding: 5px !important;margin-right:4px;" *ngIf="doc.uploaded_token"  (click)="ngOnDownload(doc.uploaded_token)"   class="button blue button-sm">
                            <i class="far fa-file-pdf"></i> View
                        </button>

                        <label  *ngIf="doc.doc_status =='DOCUMENT_REQUEST_TO_RESUBMIT'" style="float: right;
                        width: 110px;
                        height: 30px;
                        margin-top: -2px;
                        line-height: 30px;
                        margin-right: 0px;" for="other-resubmit-docs-{{doc.multiple_id}}" class="upload-wrapper btn btn-primary btn-sm download">
                          <i class="fas fa-cloud-upload-alt"></i> Upload
                        </label>
                        <input *ngIf="doc.doc_status =='DOCUMENT_REQUEST_TO_RESUBMIT'"  style="display:block;position: fixed;top:-100000px" id="other-resubmit-docs-{{doc.multiple_id}}" type="file" (change)="uploadOtherResumittedDoc($event,doc.multiple_id)"
                      placeholder="Upload file" accept=".pdf">


                     
                    </div>
                    <div style="clear:both;width:100%" class="document-comment" *ngIf="doc.doc_comment">
                      <strong>Comments:</strong> {{doc.doc_comment}}
                    </div>
  
                  </div>
  
                </div>
                <div style="clear:both"></div>
  
  
              </div>

              <div class="sec_type_item form-group col-md-12 document_confirm" [hidden]="!otherFilesUploadedAtLeast">

                  <p style="font-size:14px;"  ><strong>SECTION 511.</strong> “Where in any return, report, certificate, balance
                    sheet or other document, required by or for the purposes of
                    this Act, any person wilfully makes a statement which is false
                    in any material particular knowing it to be false, shall be
                    guilty of an offence and be liable on conviction to a fine not
                    exceeding one million rupees or to imprisonment for a term
                    not exceeding five years or to both such fine and
                    imprisonment”
                  </p>
                    <br/>
                    <input  [(ngModel)]="document_confirm" type="checkbox" id="document_confirm" class="custom-control-input" [ngModelOptions]="{standalone: true}">
                    <label style="font-size: 17px;
                    color: darkred;
                    font-weight: bold;" class="custom-control-label custom-control-sub-label radio-lbl" for="document_confirm">
                      &nbsp;&nbsp;&nbsp;&nbsp;&nbsp; I read over and understood
                    </label>
                     
                </div>
              <div style="clear:both"></div>

          
          <div class="f1-buttons">
            <button (click)="changeProgressStatuses(5)" type="button" class="btn btn-previous"><i class="fas fa-backward"></i>
              Previous</button>
            <button *ngIf="otherFilesUploadedAtLeast" [disabled]="!document_confirm" (click)="changeProgressStatuses(7)" type="button" class="btn btn-next">Next <i class="fas fa-forward"></i></button>
            <button *ngIf="!otherFilesUploadedAtLeast"  (click)="changeProgressStatuses(7)" type="button" class="btn btn-next">Next <i class="fas fa-forward"></i></button>
          </div>

        </fieldset>
       
      

        <fieldset [hidden]="stepOn != 7">
          <div class="comapny_global_resumit_message_wrapper alert alert-danger" *ngIf="externalGlobComment">
            <p style="text-align:center">{{externalGlobComment}}</p>
          </div>

          <div class="resubmit-message-block alert alert-primary" *ngIf="annualReturnStatus == 'SECRETARY_CHANGE_PROCESSING'">
            <p style="text-align:center">Please complete secretary alterations by clicking below 'Complete' button</p>
         </div>
          
          <div class="resubmit-message-block alert alert-primary" *ngIf="annualReturnStatus == 'SECRETARY_CHANGE_RESUBMIT'">
            <p style="text-align:center">Please complete secretary alterations by clicking below 'Resubmit' button</p>
         </div>
       

   
          <div class="f1-buttons">
            <button (click)="changeProgressStatuses(6)" type="button" class="btn btn-previous"><i class="fas fa-backward"></i>
              Previous</button>

            <button *ngIf="annualReturnStatus == 'SECRETARY_CHANGE_PROCESSING'"  (click)="complete()" type="button" class="btn btn-next"> Complete
                <i class="fas fa-edit"></i>
            </button>
            <button *ngIf="annualReturnStatus == 'SECRETARY_CHANGE_RESUBMIT'"  (click)="resubmit()" type="button" class="btn btn-next"> Resubmit
                <i class="fas fa-check-double"></i>
            </button>
          </div>

        </fieldset>

        </div>

      </div>
      <div style="clear:both"></div>
      <br />
      <br />
      <!--end right col main-->
    </div>
  </div>
</section>


<div mdbModal #partnerModel="mdbModal" class="modal fade left" id="frameModalTop" tabindex="-1" role="dialog"
    aria-labelledby="myModalLabel" aria-hidden="true" [config]="{ backdrop: true, ignoreBackdropClick: true }">
    <div class="modal-dialog" role="document">
      <div class="modal-content">
        <div class="modal-header">
          <h4 class="modal-title w-100 font-weight-bold">Add Partner(s)</h4>
          <button type="button" class="close" data-dismiss="modal" aria-label="Close" (click)="partnerModel.hide();resetPartner();">
            <span aria-hidden="true">&times;</span>
          </button>
        </div>
        <div class="modal-body">
          <div  class="form-group col-md-6 nic-field-wrapper">
            <label class="col-form-label col-form-label-sm">NIC No
              <span class="req">*</span>
            </label>
            <input (input)="validateNicForRecord(partner.nic)" pattern="[0-9]{9}[x|X|v|V]|[0-9]{12}" maxlength="12" name="nic"
              [(ngModel)]="partner.nic" class="form-control form-control-sm modal-input-director-nic" placeholder="NIC">
            <span style="display:block;text-align:center" *ngIf="showNICrecordMessage" class="req-message">{{showNICrecordMessage}}</span>
            <br>
            <button *ngIf="validNICForPartner" (click)="checkNic(partner.nic)"  class="btn btn-success nic-continue-button">continue</button>
          </div>
          <div [hidden]="!showNICrecord" class="nic-check-block">
            <div class="form-group row">
              <label f class="col col-form-label col-form-label-sm">Full name of partner
                <span class="req">*</span></label>
              <div class="col-sm-12">
                <input  pattern="[a-zA-Z ]*"
                  class="form-control form-control-sm" name="full_name" maxlength="100"
                  [(ngModel)]="partner.name" placeholder="Full Name" readonly>
                <span class="req-message">Valid name required</span>
              </div>
            </div>
            <div class="form-group row">
              <label f class="col-sm-3 col-form-label col-form-label-sm">Residential Address
                <span class="req">*</span></label>
              <div class="col-sm-12">
                <input  class="form-control form-control-sm" name="address"
                  maxlength="190" [(ngModel)]="partner.address"
                  placeholder="Residential Address" readonly>
                <span class="req-message">Valid address required</span>
              </div>
            </div>
            <div class="form-group row">
              <div class="form-group col-md-3"><label class="col-form-label col-form-label-sm">Citizenship
                  <span class="req">*</span></label>
                <input  pattern="[a-zA-Z ]*"
                  class="form-control form-control-sm" name="citizenship" maxlength="50"
                  [(ngModel)]="partner.citizenship" placeholder="Citizenship" readonly>
                <span class="req-message">Valid input required</span>
              </div>
            </div>
            <div class="form-group row">
              <label f class="col-sm-3 col-form-label col-form-label-sm">Professional Qualifications
                <span class="req">*</span>
              </label>
              <div class="col-sm-12">
                <input  class="form-control form-control-sm"
                  name="professional_qualifications" maxlength="100" [(ngModel)]="partner.professional_qualifications"
                  placeholder="" readonly>
              </div>
            </div>
            <div class="form-group row">
              <label f class="col-sm-12 col-form-label col-form-label-sm">Sub-clause of regulation 2(1)(b) under
                which
                applicant is qualified?
                <span class="req">*</span></label>
              <div class="col-sm-12">
                <input  class="form-control form-control-sm" name="qualified"
                  maxlength="100" [(ngModel)]="partner.which_qualified">
                <span class="req-message">Valid reason required</span>
              </div>
            </div>
          </div>
        </div>
        <div class="modal-footer">
        
          <button [disabled]="!partner.which_qualified" type="button" mdbBtn color="secondary"
            (click)="partnerModel.hide();addPartner();resetPartner();"
            class="btn btn-sm relative waves-light add-new-stakeholder add-director" mdbWavesEffect>ADD</button>
        </div>
      </div>
    </div>
  </div>


  <div class="payment-success-wrapper" *ngIf="submitSuccess">

    <div class="payment-success-body">
  
      <div class="header">
  
        <h2>Success</h2>
      </div>
  
      <div class="body">
        <p>You have successfully submitted the request</p>
      </div>
  
      <div class="footer">
         
        <button class="btn btn-success" (click)="submitMessageClick()">ok</button>
      </div>
    </div>
  
  </div>
  
  
  <div class="payment-success-wrapper" *ngIf="resubmitSuccess">
  
    <div class="payment-success-body">
  
      <div class="header">
  
        <h2>Success</h2>
      </div>
  
      <div class="body">
        <p>You have successfully resubmitted the request for verification</p>
      </div>
  
      <div class="footer">
         
        <button class="btn btn-success" (click)="resubmitMessageClick()">ok</button>
      </div>
    </div>
  
  </div>

